# YouTube動画: エンストロフィ保存と浅水波のポテンシャル渦度

## プロジェクト概要

理想流体の2次元流れにおけるエンストロフィ保存と、浅水波方程式におけるポテンシャル渦度の保存を解説するYouTube動画の制作プロジェクトです。「渦」という身近な現象から出発し、理想流体の保存則が浅水波でどのように形を変えて残るかを、直感的にわかりやすく伝えます。

### テーマ

「渦の保存則 — 2次元理想流体から浅水波方程式へ」

### 動画構成

| # | セクション | 内容 | キーワード |
|---|-----------|------|-----------|
| 1 | 渦って何？ | コーヒーかき混ぜの例、渦＝回転の濃淡 | 渦度 (vorticity) |
| 2 | 理想流体の世界 | 渦の色が勝手に消えない世界 | 非粘性流体、渦度の保存 |
| 3 | エンストロフィとは | 渦の"濃さの総量"、渦が細かくなるほど増えそうな直感 | エンストロフィ (enstrophy) |
| 4 | 現実は水面が動く | 水面が上下する → 波が出る | 自由表面、重力波 |
| 5 | 浅水波方程式 | 厚みが変わると渦の効き方が変わる | 浅水波近似 (shallow water) |
| 6 | ポテンシャル渦度 | "渦度そのまま"ではなく"厚みで割った渦"が運ばれる | ポテンシャル渦度 (PV) |
| 7 | 結論 | 2Dの保存構造が浅水でも形を変えて残る | 保存則の普遍性 |

### 主要な数学的概念

- **渦度 (Vorticity)**: ω = ∇ × u（流体の局所的な回転の強さ）
- **エンストロフィ (Enstrophy)**: Z = ½∫ω² dA（渦度の2乗の積分、2D理想流体で保存）
- **ポテンシャル渦度 (Potential Vorticity)**: PV = ω/h（浅水波における保存量）

## ディレクトリ構造

```text
yt-shallow-water-enstrophy/
├── CLAUDE.md                 # プロジェクト設定・開発ルール
├── README.md                 # プロジェクト概要
├── Makefile                  # ビルドコマンド
├── docs/                     # 参考文献
├── instructions/             # 制作ガイドライン
│   ├── video_concept.md      # 動画コンセプト
│   └── youtube_script_guidelines.md  # YouTube脚本ガイドライン
├── slides-jp/                # スライド・動画関連（Reveal.js）
│   ├── index.html            # メインスライド
│   ├── yt_script_outline.md  # 動画アウトライン
│   ├── yt_script.md          # YouTube動画脚本
│   ├── yt_script_tts.md      # TTS用スクリプト
│   ├── css/                  # スタイルシート
│   ├── assets/               # 画像等のアセット
│   └── dist/                 # Reveal.jsビルド成果物
└── .github/                  # GitHubテンプレート
```

## 動画フォーマット

- **尺**: 未定（内容に応じて調整）
- **構成**: 1動画1テーマ
- **スタイル**: 直感的な例え → 数学的な定式化、段階的に理解を深める

## 言語設定

このプロジェクトでは**日本語**での応答を行ってください。コード内のコメント、ログメッセージ、エラーメッセージ、ドキュメンテーション文字列なども日本語で記述してください。

## 開発ルール

### コーディング規約

- Python: PEP 8準拠
- 関数名: snake_case
- クラス名: PascalCase
- 定数: UPPER_SNAKE_CASE
- Docstring: Google Style

### Manimアニメーション

- アニメーション内のテキスト・ラベルは**日英併記**とする
  - 国際的な視聴者にも理解できるよう、日本語と英語を併記する
- テロップは**簡潔に核心を伝える**ものとする
  - 冗長な説明は避け、要点を端的に表現する
  - ナレーションの補助として機能させる

## Git運用

- ブランチ戦略: feature/*, fix/*, refactor/*
- コミットメッセージ: 英文を使用、動詞から始める
- PRはmainブランチへ

## 開発ガイドライン

### ドキュメント更新プロセス

機能追加やPhase完了時には、以下のドキュメントを同期更新する：

1. **CLAUDE.md**: プロジェクト全体状況、Phase完了記録、技術仕様
2. **README.md**: ユーザー向け機能概要、実装状況、使用方法
3. **Makefile**: コマンドヘルプテキスト（## コメント）の更新
4. **makefiles/**: コマンドヘルプテキスト（## コメント）の更新

### コミットメッセージ規約

#### コミット粒度

- **1コミット = 1つの主要な変更**: 複数の独立した機能や修正を1つのコミットにまとめない
- **論理的な単位でコミット**: 関連する変更は1つのコミットにまとめる
- **段階的コミット**: 大きな変更は段階的に分割してコミット

#### プレフィックスと絵文字

- ✨ feat: 新機能
- 🐞 fix: バグ修正
- 📚 docs: ドキュメント
- 🎨 style: コードスタイル修正
- 🛠️ refactor: リファクタリング
- ⚡ perf: パフォーマンス改善
- ✅ test: テスト追加・修正
- 🏗️ chore: ビルド・補助ツール
- 🚀 deploy: デプロイ
- 🔒 security: セキュリティ修正
- 📝 update: 更新・改善
- 🗑️ remove: 削除

**重要**: Claude Codeを使用してコミットする場合は、必ず以下の署名を含める：

```text
🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

## 脚本制作ガイドライン

脚本作成時は `instructions/youtube_script_guidelines.md` を参照。

### 主なポイント

- 話し言葉として書く（「読む」ではなく「聴く」ための最適化）
- 一文は20〜30文字程度
- 句読点による自然な間
- Audio Tags（ElevenLabs v3用）の活用
- 専門用語には補足説明を付ける
